<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Parallax</title>
	<script src="compare-elements.js"></script>
	<script>
		document.addEventListener('DOMContentLoaded', function(){
			const Box1 = document.querySelector('#box1');
			const Sphere1 = Box1.querySelector('.sphere1');
			const Sphere2 = Box1.querySelector('.sphere2');
			const Sphere3 = Box1.querySelector('.sphere3');
			const Box2 = document.querySelector('#box2');
			const Sphere4 = Box2.querySelector('.sphere1');
			const Sphere5 = Box2.querySelector('.sphere2');
			const Sphere6 = Box2.querySelector('.sphere3');
			const Box3 = document.querySelector('#box3');
			const Sphere7 = Box3.querySelector('.sphere1');
			const Sphere8 = Box3.querySelector('.sphere2');
			const Sphere9 = Box3.querySelector('.sphere3');
			CompareElements.onScroll( Box1, window, function( element, reference, compare ){
				let position = compare.normalizedPositionY( [0, 0], [0, 1] );
				Sphere1.style.top = position * 50 + 50 + '%';
				Sphere2.style.bottom = position * 50 + 50 + '%';
				Sphere2.style.transform = 'scale('+(position*-1+1)+')';
				Sphere3.style.left = position * -50 + 50 + '%';
			});
			CompareElements.onScroll( Box2, window, function( element, reference, compare ){
				let position = compare.normalizedPositionY( [0, 0], [0, 1] );
				Sphere4.style.top = position * 25 + 50 + '%';
				Sphere5.style.bottom = position * 50 + 50 + '%';
				Sphere5.style.transform = 'scale('+(position+1)+')';
				Sphere6.style.left = position * -50 + 50 + '%';
			});
			CompareElements.onScroll( Box3, window, function( element, reference, compare ){
				let position = compare.normalizedPositionY( [0, 0], [0, 1] );
				Sphere7.style.top = position * 10 + 50 + '%';
				Sphere8.style.bottom = position * 50 + 50 + '%';
				Sphere8.style.transform = 'scale('+(position*-1+1)+')';
				Sphere9.style.left = position * -50 + 50 + '%';
			});
		});
	</script>
	<style>
		body {
			font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
			font-size: 14px;
			line-height: 1.5;
			color: #333;
			background: #FFF;
			margin:  0;
		}
		.wrapper {
			overflow: hidden;
			width: 960px;
			margin: 0 auto;
		}
		.box {
			width: 100%;
			height:  100vh;
			line-height: 800px;
			color: white;
			text-align: center;
			position: relative;
			overflow: hidden;
		}
		#box1 { background: #096; }
		#box2 { background: #900; }
		#box3 { background: #F90; }
		.sphere {
			position: absolute;
			width: 50px;
			height: 50px;
			line-height: 50px;
			border-radius: 100%;
			color: #333;
			background: white;
		}
		.sphere1 { left: 30% }
		.sphere2 { left: 50% }
		.sphere3 { left: 70% }
	</style>
</head>
<body>

<div class="box" id="box1">
	<strong class="sphere sphere1">1</strong>
	<strong class="sphere sphere2">2</strong>
	<strong class="sphere sphere3">3</strong>
</div>
<div class="box" id="box2">
	<strong class="sphere sphere1">1</strong>
	<strong class="sphere sphere2">2</strong>
	<strong class="sphere sphere3">3</strong>
</div>
<div class="box" id="box3">
	<strong class="sphere sphere1">1</strong>
	<strong class="sphere sphere2">2</strong>
	<strong class="sphere sphere3">3</strong>
</div>

</body>
</html>